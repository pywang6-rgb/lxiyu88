<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>电影下载器 - 实时速度监控</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .download-panel {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .movie-info {
            display: flex;
            margin-bottom: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .movie-poster {
            width: 140px;
            height: 200px;
            object-fit: cover;
        }
        
        .movie-details {
            padding: 20px;
            flex: 1;
        }
        
        .movie-title {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }
        
        .movie-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .movie-description {
            line-height: 1.5;
            opacity: 0.9;
        }
        
        .download-controls {
            margin-top: 20px;
        }
        
        .progress-container {
            margin-bottom: 20px;
        }
        
        .progress-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 8px;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #00c6ff, #0072ff);
            border-radius: 6px;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .progress-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
        }
        
        .speed-display {
            font-size: 1.5rem;
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }
        
        .speed-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #00c6ff;
            margin: 0 5px;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }
        
        button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .download-btn {
            background: linear-gradient(90deg, #00c6ff, #0072ff);
            color: white;
        }
        
        .pause-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }
        
        .cancel-btn {
            background: rgba(255, 50, 50, 0.7);
            color: white;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .stats-panel {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .stats-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .speed-chart {
            height: 200px;
            margin-bottom: 30px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin: 10px 0;
            color: #00c6ff;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            font-size: 0.9rem;
            opacity: 0.7;
        }
        
        .quality-selector {
            display: flex;
            gap: 10px;
            margin: 15px 0;
        }
        
        .quality-btn {
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quality-btn.active {
            background: #0072ff;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>电影下载器</h1>
            <p class="subtitle">高速下载，实时监控下载速度</p>
        </header>
        
        <div class="main-content">
            <div class="download-panel">
                <div class="movie-info">
                    <img src="https://via.placeholder.com/140x200/2c3e50/ffffff?text=Movie+Poster" alt="电影海报" class="movie-poster">
                    <div class="movie-details">
                        <h2 class="movie-title">星际穿越</h2>
                        <div class="movie-meta">
                            <span>科幻</span>
                            <span>2014</span>
                            <span>2小时49分钟</span>
                            <span>8.6/10</span>
                        </div>
                        <p class="movie-description">一群探险家利用他们针对虫洞的新发现，超越人类对于太空旅行的极限，从而开始在广袤的宇宙中进行星际航行。</p>
                    </div>
                </div>
                
                <div class="quality-selector">
                    <div class="quality-btn active">1080p</div>
                    <div class="quality-btn">720p</div>
                    <div class="quality-btn">480p</div>
                </div>
                
                <div class="download-controls">
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress" id="progress"></div>
                        </div>
                        <div class="progress-info">
                            <span>已下载: <span id="downloaded">0 MB</span></span>
                            <span>剩余: <span id="remaining">2.1 GB</span></span>
                        </div>
                    </div>
                    
                    <div class="speed-display">
                        当前速度: <span class="speed-value" id="current-speed">0</span> MB/s
                    </div>
                    
                    <div class="controls">
                        <button class="download-btn" id="download-btn">开始下载</button>
                        <button class="pause-btn" id="pause-btn" disabled>暂停</button>
                        <button class="cancel-btn" id="cancel-btn">取消</button>
                    </div>
                </div>
            </div>
            
            <div class="stats-panel">
                <h3 class="stats-title">下载统计</h3>
                
                <div class="speed-chart" id="speed-chart">
                    <!-- 速度图表将通过JavaScript绘制 -->
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">平均速度</div>
                        <div class="stat-value" id="avg-speed">0 MB/s</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">峰值速度</div>
                        <div class="stat-value" id="peak-speed">0 MB/s</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">已用时间</div>
                        <div class="stat-value" id="elapsed-time">0:00</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">剩余时间</div>
                        <div class="stat-value" id="eta">--:--</div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>注意：本页面仅为演示用途，不提供实际电影下载功能</p>
        </footer>
    </div>

    <script>
        // 模拟下载状态和数据
        let downloadState = {
            isDownloading: false,
            isPaused: false,
            progress: 0,
            downloaded: 0, // MB
            totalSize: 2100, // MB (2.1 GB)
            startTime: null,
            speeds: [],
            speedChartData: [],
            intervalId: null
        };

        // DOM 元素
        const progressBar = document.getElementById('progress');
        const downloadedEl = document.getElementById('downloaded');
        const remainingEl = document.getElementById('remaining');
        const currentSpeedEl = document.getElementById('current-speed');
        const avgSpeedEl = document.getElementById('avg-speed');
        const peakSpeedEl = document.getElementById('peak-speed');
        const elapsedTimeEl = document.getElementById('elapsed-time');
        const etaEl = document.getElementById('eta');
        const downloadBtn = document.getElementById('download-btn');
        const pauseBtn = document.getElementById('pause-btn');
        const cancelBtn = document.getElementById('cancel-btn');
        const speedChart = document.getElementById('speed-chart');

        // 初始化
        function init() {
            updateDisplay();
            setupChart();
            
            // 事件监听
            downloadBtn.addEventListener('click', toggleDownload);
            pauseBtn.addEventListener('click', togglePause);
            cancelBtn.addEventListener('click', cancelDownload);
            
            // 模拟初始速度数据
            for (let i = 0; i < 20; i++) {
                downloadState.speedChartData.push(0);
            }
        }

        // 设置速度图表
        function setupChart() {
            // 创建一个简单的SVG图表
            speedChart.innerHTML = '<svg width="100%" height="100%" viewBox="0 0 400 200" preserveAspectRatio="none"></svg>';
        }

        // 更新速度图表
        function updateChart() {
            const svg = speedChart.querySelector('svg');
            const data = downloadState.speedChartData;
            const maxSpeed = Math.max(...data, 10); // 确保图表有适当的高度
            
            // 创建折线路径
            let pathData = '';
            for (let i = 0; i < data.length; i++) {
                const x = (i / (data.length - 1)) * 400;
                const y = 200 - (data[i] / maxSpeed) * 180; // 留出一些边距
                
                if (i === 0) {
                    pathData += `M ${x},${y} `;
                } else {
                    pathData += `L ${x},${y} `;
                }
            }
            
            // 创建填充区域
            let areaData = pathData + `L 400,200 L 0,200 Z`;
            
            // 清除之前的图表
            svg.innerHTML = '';
            
            // 添加填充区域
            const area = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            area.setAttribute('d', areaData);
            area.setAttribute('fill', 'rgba(0, 198, 255, 0.2)');
            area.setAttribute('stroke', 'none');
            svg.appendChild(area);
            
            // 添加折线
            const line = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            line.setAttribute('d', pathData);
            line.setAttribute('fill', 'none');
            line.setAttribute('stroke', '#00c6ff');
            line.setAttribute('stroke-width', '2');
            svg.appendChild(line);
            
            // 添加网格线
            for (let i = 0; i <= 4; i++) {
                const y = 200 - (i * 40);
                const gridLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                gridLine.setAttribute('x1', '0');
                gridLine.setAttribute('y1', y);
                gridLine.setAttribute('x2', '400');
                gridLine.setAttribute('y2', y);
                gridLine.setAttribute('stroke', 'rgba(255, 255, 255, 0.1)');
                gridLine.setAttribute('stroke-width', '1');
                svg.appendChild(gridLine);
            }
        }

        // 切换下载状态
        function toggleDownload() {
            if (downloadState.isDownloading) {
                pauseDownload();
            } else {
                startDownload();
            }
        }

        // 开始下载
        function startDownload() {
            if (downloadState.progress >= 100) return;
            
            downloadState.isDownloading = true;
            downloadState.isPaused = false;
            downloadState.startTime = new Date();
            
            downloadBtn.textContent = '暂停下载';
            pauseBtn.disabled = false;
            
            // 模拟下载过程
            downloadState.intervalId = setInterval(updateDownload, 100);
        }

        // 暂停下载
        function pauseDownload() {
            downloadState.isDownloading = false;
            downloadState.isPaused = true;
            
            downloadBtn.textContent = '继续下载';
            pauseBtn.disabled = true;
            
            clearInterval(downloadState.intervalId);
        }

        // 切换暂停状态
        function togglePause() {
            if (downloadState.isPaused) {
                startDownload();
            } else {
                pauseDownload();
            }
        }

        // 取消下载
        function cancelDownload() {
            downloadState.isDownloading = false;
            downloadState.isPaused = false;
            downloadState.progress = 0;
            downloadState.downloaded = 0;
            downloadState.speeds = [];
            downloadState.speedChartData = new Array(20).fill(0);
            
            downloadBtn.textContent = '开始下载';
            pauseBtn.disabled = true;
            
            clearInterval(downloadState.intervalId);
            updateDisplay();
            updateChart();
        }

        // 更新下载进度
        function updateDownload() {
            if (!downloadState.isDownloading) return;
            
            // 模拟下载速度波动
            const baseSpeed = 5; // MB/s
            const variation = Math.random() * 3; // 随机变化
            const currentSpeed = baseSpeed + variation;
            
            // 更新下载数据
            downloadState.downloaded += currentSpeed / 10; // 每100ms下载的量
            downloadState.progress = (downloadState.downloaded / downloadState.totalSize) * 100;
            
            // 记录速度
            downloadState.speeds.push(currentSpeed);
            downloadState.speedChartData.push(currentSpeed);
            if (downloadState.speedChartData.length > 20) {
                downloadState.speedChartData.shift();
            }
            
            // 检查是否完成
            if (downloadState.progress >= 100) {
                downloadState.progress = 100;
                downloadState.downloaded = downloadState.totalSize;
                downloadState.isDownloading = false;
                downloadBtn.textContent = '下载完成';
                pauseBtn.disabled = true;
                clearInterval(downloadState.intervalId);
            }
            
            updateDisplay();
            updateChart();
        }

        // 更新显示
        function updateDisplay() {
            // 更新进度条
            progressBar.style.width = `${downloadState.progress}%`;
            
            // 更新下载量
            downloadedEl.textContent = `${downloadState.downloaded.toFixed(1)} MB`;
            remainingEl.textContent = `${(downloadState.totalSize - downloadState.downloaded).toFixed(1)} MB`;
            
            // 计算并显示速度
            const currentSpeed = downloadState.speeds.length > 0 ? 
                downloadState.speeds[downloadState.speeds.length - 1] : 0;
            currentSpeedEl.textContent = currentSpeed.toFixed(1);
            
            // 计算平均速度
            const avgSpeed = downloadState.speeds.length > 0 ? 
                downloadState.speeds.reduce((a, b) => a + b, 0) / downloadState.speeds.length : 0;
            avgSpeedEl.textContent = `${avgSpeed.toFixed(1)} MB/s`;
            
            // 计算峰值速度
            const peakSpeed = downloadState.speeds.length > 0 ? 
                Math.max(...downloadState.speeds) : 0;
            peakSpeedEl.textContent = `${peakSpeed.toFixed(1)} MB/s`;
            
            // 计算时间
            if (downloadState.startTime && downloadState.isDownloading) {
                const now = new Date();
                const elapsedSeconds = Math.floor((now - downloadState.startTime) / 1000);
                const elapsedMinutes = Math.floor(elapsedSeconds / 60);
                const elapsedSecondsRemainder = elapsedSeconds % 60;
                elapsedTimeEl.textContent = `${elapsedMinutes}:${elapsedSecondsRemainder.toString().padStart(2, '0')}`;
                
                // 计算剩余时间
                if (currentSpeed > 0) {
                    const remainingMB = downloadState.totalSize - downloadState.downloaded;
                    const remainingSeconds = Math.floor(remainingMB / currentSpeed);
                    const remainingMinutes = Math.floor(remainingSeconds / 60);
                    const remainingSecondsRemainder = remainingSeconds % 60;
                    etaEl.textContent = `${remainingMinutes}:${remainingSecondsRemainder.toString().padStart(2, '0')}`;
                }
            }
        }

        // 初始化
        window.onload = init;
    </script>
</body>
</html>
