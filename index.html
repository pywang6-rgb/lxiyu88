<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯—æ­Œæ¬£èµ - åœ¨çº¿æ’­æ”¾</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'SimSun', serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        /* å¯†ç ä¿æŠ¤å±‚ */
        .password-protection {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }
        
        .password-box {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }
        
        .password-box h2 {
            color: #4CAF50;
            margin-bottom: 20px;
        }
        
        .password-input {
            width: 100%;
            padding: 12px;
            margin: 15px 0;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            text-align: center;
        }
        
        .password-input:focus {
            border-color: #4CAF50;
            outline: none;
        }
        
        .password-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .password-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }
        
        .error-message {
            color: #f44336;
            margin-top: 10px;
            display: none;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
            display: none;
        }
        
        .header {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        .section h2 {
            color: #4CAF50;
            margin-bottom: 20px;
            font-size: 1.8em;
            text-align: center;
        }
        
        .sheet-music-container {
            display: inline-block;
            border: 3px solid #4CAF50;
            border-radius: 10px;
            padding: 10px;
            background: #f9f9f9;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            max-width: 100%;
            text-align: center;
        }
        
        .sheet-music-container img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .sheet-music-container img:hover {
            transform: scale(1.02);
        }
        
        .player-section {
            background: #f5f5f5;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
        }
        
        audio, video {
            width: 100%;
            max-width: 600px;
            margin: 15px 0;
            border-radius: 10px;
        }
        
        .controls {
            margin: 20px 0;
        }
        
        .control-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 0 8px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .control-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }
        
        .control-btn:active {
            transform: translateY(0);
        }
        
        .volume-control {
            margin: 15px 0;
        }
        
        .volume-control label {
            font-weight: bold;
            margin-right: 10px;
        }
        
        .volume-slider {
            width: 200px;
            height: 8px;
            border-radius: 4px;
            background: #ddd;
            outline: none;
        }
        
        .status {
            margin: 15px 0;
            padding: 10px;
            background: #e8f5e8;
            border-radius: 5px;
            display: none;
        }
        
        .status.success {
            background: #e8f5e8;
            color: #2e7d32;
            display: block;
        }
        
        .status.error {
            background: #ffebee;
            color: #c62828;
            display: block;
        }
        
        .instructions {
            margin-top: 25px;
            padding: 15px;
            background: #e8f5e8;
            border-radius: 8px;
            border-left: 4px solid #4CAF50;
        }
        
        .instructions h3 {
            color: #4CAF50;
            margin-bottom: 10px;
        }
        
        .instructions ul {
            text-align: left;
            margin-left: 20px;
        }
        
        .instructions li {
            margin: 8px 0;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            background: #f1f1f1;
            color: #666;
            font-size: 0.9em;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .content {
                padding: 20px;
            }
            
            .control-btn {
                display: block;
                width: 100%;
                margin: 8px 0;
            }
            
            .controls {
                margin: 10px 0;
            }
        }
        
        .fullscreen-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .fullscreen-media {
            max-width: 90%;
            max-height: 90%;
            border-radius: 10px;
        }
        
        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 30px;
            cursor: pointer;
            background: none;
            border: none;
            z-index: 1001;
        }
    </style>
</head>
<body>
    <div class="password-protection" id="passwordProtection">
        <div class="password-box">
            <h2>ğŸ”’ è¯·è¾“å…¥è®¿é—®å¯†ç </h2>
            <input type="password" class="password-input" id="passwordInput" placeholder="è¯·è¾“å…¥å¯†ç " onkeypress="handlePasswordKeypress(event)">
            <button class="password-btn" onclick="checkPassword()">è¿›å…¥ç½‘ç«™</button>
            <div class="error-message" id="errorMessage">å¯†ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥</div>
        </div>
    </div>

    <div class="container" id="mainContainer">
        <div class="header">
            <h1>ğŸµ è¯—æ­Œæœ—è¯µæ¬£èµ</h1>
            <p>è†å¬è¯—æ„ï¼Œå“å‘³ç»å…¸ - è…¾è®¯äº‘é«˜é€Ÿè®¿é—®</p>
        </div>
        
        <div class="content">
            <div id="status" class="status"></div>
            
            <div class="section">
                <h2>ğŸ¼ è¯—æ­Œæ­Œè°±</h2>
                <div class="sheet-music-container">
                    <img src="https://abc-1301182289.cos.ap-shanghai.myqcloud.com/sheet-music.png" 
                         alt="è¯—æ­Œæ­Œè°±" 
                         id="sheetMusic"
                         onerror="handleImageError()">
                </div>
                <p style="margin-top: 10px; color: #666; text-align: center;">ç‚¹å‡»å›¾ç‰‡å¯ä»¥å…¨å±æŸ¥çœ‹</p>
            </div>
            
            <div class="section player-section">
                <h2>ğŸ¤ è¯—æ­Œæœ—è¯µ</h2>
                <audio id="musicPlayer" controls>
                    <source src="https://abc-1301182289.cos.ap-shanghai.myqcloud.com/song.mp3" type="audio/mpeg">
                    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ï¼Œè¯·ä½¿ç”¨ç°ä»£æµè§ˆå™¨è®¿é—®ã€‚
                </audio>
                
                <div class="controls">
                    <button class="control-btn" onclick="playMusic()">â–¶ï¸ æ’­æ”¾</button>
                    <button class="control-btn" onclick="pauseMusic()">â¸ï¸ æš‚åœ</button>
                    <button class="control-btn" onclick="restartMusic()">â®ï¸ é‡æ–°å¼€å§‹</button>
                    <button class="control-btn" onclick="toggleMute('music')">ğŸ”‡ é™éŸ³/å–æ¶ˆ</button>
                </div>
                
                <div class="volume-control">
                    <label for="musicVolumeSlider">éŸ³é‡è°ƒèŠ‚ï¼š</label>
                    <input type="range" id="musicVolumeSlider" class="volume-slider" min="0" max="1" step="0.1" value="1">
                </div>
            </div>
            
            <div class="section player-section">
                <h2>ğŸ¬ è§†é¢‘æ¬£èµ</h2>
                <video id="videoPlayer" controls poster="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='400' viewBox='0 0 600 400'%3E%3Crect width='600' height='400' fill='%23f0f0f0'/%3E%3Ctext x='300' y='200' font-family='Arial' font-size='24' fill='%23999' text-anchor='middle'%3Eè§†é¢‘åŠ è½½ä¸­...%3C/text%3E%3C/svg%3E">
                    <source src="https://abc-1301182289.cos.ap-shanghai.myqcloud.com/%E7%9C%8B%E4%B8%8D%E8%A7%81%E7%9A%84.mp4" type="video/mp4">
                    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ï¼Œè¯·ä½¿ç”¨ç°ä»£æµè§ˆå™¨è®¿é—®ã€‚
                </video>
                
                <div class="controls">
                    <button class="control-btn" onclick="playVideo()">â–¶ï¸ æ’­æ”¾è§†é¢‘</button>
                    <button class="control-btn" onclick="pauseVideo()">â¸ï¸ æš‚åœè§†é¢‘</button>
                    <button class="control-btn" onclick="restartVideo()">â®ï¸ é‡æ–°å¼€å§‹</button>
                    <button class="control-btn" onclick="toggleMute('video')">ğŸ”‡ é™éŸ³/å–æ¶ˆ</button>
                    <button class="control-btn" onclick="fullscreenVideo()">ğŸ“º å…¨å±è§‚çœ‹</button>
                </div>
                
                <div class="volume-control">
                    <label for="videoVolumeSlider">éŸ³é‡è°ƒèŠ‚ï¼š</label>
                    <input type="range" id="videoVolumeSlider" class="volume-slider" min="0" max="1" step="0.1" value="1">
                </div>
            </div>
            
            <div class="instructions">
                <h3>ğŸ“‹ ä½¿ç”¨è¯´æ˜</h3>
                <ul>
                    <li>ç‚¹å‡»æ­Œè°±å›¾ç‰‡å¯ä»¥å…¨å±æŸ¥çœ‹ç»†èŠ‚</li>
                    <li>ä½¿ç”¨æ’­æ”¾å™¨æ§åˆ¶æŒ‰é’®æˆ–æµè§ˆå™¨åŸç”Ÿæ§ä»¶æ¥æ’­æ”¾éŸ³é¢‘å’Œè§†é¢‘</li>
                    <li>å¯ä»¥è°ƒèŠ‚éŸ³é‡å¤§å°è·å¾—æœ€ä½³æ”¶å¬ä½“éªŒ</li>
                    <li>æ”¯æŒé”®ç›˜å¿«æ·é”®ï¼šç©ºæ ¼é”®æ’­æ”¾/æš‚åœï¼ŒRé”®é‡æ–°å¼€å§‹ï¼ŒMé”®é™éŸ³</li>
                    <li>æ–‡ä»¶é€šè¿‡è…¾è®¯äº‘COSæ‰˜ç®¡ï¼Œå›½å†…è®¿é—®é€Ÿåº¦å¿«</li>
                </ul>
            </div>
        </div>
        
        <div class="footer">
            <p>Â© 2024 è¯—æ­Œæ¬£èµ | è…¾è®¯äº‘COSé«˜é€Ÿæ‰˜ç®¡ | é€šè¿‡ GitHub Pages éƒ¨ç½²</p>
        </div>
    </div>

    <div class="fullscreen-overlay" id="fullscreenOverlay">
        <button class="close-btn" onclick="closeFullscreen()">Ã—</button>
        <img src="https://abc-1301182289.cos.ap-shanghai.myqcloud.com/sheet-music.png" 
             alt="è¯—æ­Œæ­Œè°±å…¨å±æŸ¥çœ‹" 
             class="fullscreen-media"
             id="fullscreenImage">
    </div>

    <script>
        const CORRECT_PASSWORD = "123456";
        
        function checkPassword() {
            const input = document.getElementById('passwordInput');
            const errorMessage = document.getElementById('errorMessage');
            
            if (input.value === CORRECT_PASSWORD) {
                document.getElementById('passwordProtection').style.display = 'none';
                document.getElementById('mainContainer').style.display = 'block';
                setTimeout(checkResources, 100);
            } else {
                errorMessage.style.display = 'block';
                input.value = '';
                input.focus();
            }
        }
        
        function handlePasswordKeypress(event) {
            if (event.key === 'Enter') {
                checkPassword();
            }
        }
        
        window.addEventListener('load', function() {
            document.getElementById('passwordInput').focus();
        });

        const musicPlayer = document.getElementById('musicPlayer');
        const videoPlayer = document.getElementById('videoPlayer');
        const musicVolumeSlider = document.getElementById('musicVolumeSlider');
        const videoVolumeSlider = document.getElementById('videoVolumeSlider');
        const sheetMusic = document.getElementById('sheetMusic');
        const fullscreenOverlay = document.getElementById('fullscreenOverlay');
        const fullscreenImage = document.getElementById('fullscreenImage');
        const statusDiv = document.getElementById('status');

        function showStatus(message, type) {
            statusDiv.textContent = message;
            statusDiv.className = 'status ' + type;
        }

        function checkResources() {
            showStatus('æ­£åœ¨æ£€æŸ¥èµ„æºå¯ç”¨æ€§...', '');
            
            const img = new Image();
            img.onload = function() {
                showStatus('âœ… æ‰€æœ‰èµ„æºåŠ è½½æˆåŠŸï¼ç°åœ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨', 'success');
            };
            img.onerror = function() {
                showStatus('âŒ æ­Œè°±å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶é“¾æ¥', 'error');
            };
            img.src = 'https://abc-1301182289.cos.ap-shanghai.myqcloud.com/sheet-music.png';
            
            musicPlayer.addEventListener('canplaythrough', function() {
                showStatus('âœ… æ‰€æœ‰èµ„æºåŠ è½½æˆåŠŸï¼ç°åœ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨', 'success');
            });
            
            musicPlayer.addEventListener('error', function() {
                showStatus('âŒ éŸ³é¢‘æ–‡ä»¶åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶é“¾æ¥', 'error');
            });
            
            videoPlayer.addEventListener('canplaythrough', function() {
                console.log('è§†é¢‘åŠ è½½å®Œæˆ');
            });
            
            videoPlayer.addEventListener('error', function() {
                console.log('è§†é¢‘åŠ è½½å¤±è´¥');
            });
            
            musicPlayer.load();
            videoPlayer.load();
        }

        function playMusic() {
            musicPlayer.play().catch(e => {
                console.log("éŸ³é¢‘æ’­æ”¾å¤±è´¥:", e);
                showStatus('âŒ éŸ³é¢‘æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥éŸ³é¢‘æ–‡ä»¶', 'error');
            });
        }
        
        function pauseMusic() {
            musicPlayer.pause();
        }
        
        function restartMusic() {
            musicPlayer.currentTime = 0;
            playMusic();
        }
        
        function playVideo() {
            videoPlayer.play().catch(e => {
                console.log("è§†é¢‘æ’­æ”¾å¤±è´¥:", e);
                showStatus('âŒ è§†é¢‘æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥è§†é¢‘æ–‡ä»¶', 'error');
            });
        }
        
        function pauseVideo() {
            videoPlayer.pause();
        }
        
        function restartVideo() {
            videoPlayer.currentTime = 0;
            playVideo();
        }
        
        function fullscreenVideo() {
            if (videoPlayer.requestFullscreen) {
                videoPlayer.requestFullscreen();
            } else if (videoPlayer.webkitRequestFullscreen) {
                videoPlayer.webkitRequestFullscreen();
            } else if (videoPlayer.mozRequestFullScreen) {
                videoPlayer.mozRequestFullScreen();
            }
        }
        
        function toggleMute(type) {
            if (type === 'music') {
                musicPlayer.muted = !musicPlayer.muted;
                const muteBtn = document.querySelector('.player-section:nth-child(2) .control-btn:nth-child(4)');
                muteBtn.textContent = musicPlayer.muted ? 'ğŸ”Š å–æ¶ˆé™éŸ³' : 'ğŸ”‡ é™éŸ³';
            } else if (type === 'video') {
                videoPlayer.muted = !videoPlayer.muted;
                const muteBtn = document.querySelector('.player-section:nth-child(3) .control-btn:nth-child(4)');
                muteBtn.textContent = videoPlayer.muted ? 'ğŸ”Š å–æ¶ˆé™éŸ³' : 'ğŸ”‡ é™éŸ³';
            }
        }
        
        musicVolumeSlider.addEventListener('input', function() {
            musicPlayer.volume = this.value;
        });
        
        videoVolumeSlider.addEventListener('input', function() {
            videoPlayer.volume = this.value;
        });
        
        musicPlayer.volume = musicVolumeSlider.value;
        videoPlayer.volume = videoVolumeSlider.value;
        
        sheetMusic.addEventListener('click', function() {
            fullscreenOverlay.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        });
        
        function closeFullscreen() {
            fullscreenOverlay.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        fullscreenOverlay.addEventListener('click', function(e) {
            if (e.target === fullscreenOverlay) {
                closeFullscreen();
            }
        });
        
        function handleImageError() {
            showStatus('âŒ æ­Œè°±å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶é“¾æ¥æˆ–å›¾ç‰‡æ ¼å¼', 'error');
        }
        
        musicPlayer.addEventListener('loadeddata', function() {
            console.log('éŸ³é¢‘åŠ è½½å®Œæˆï¼Œæ—¶é•¿:', musicPlayer.duration + 'ç§’');
        });
        
        videoPlayer.addEventListener('loadeddata', function() {
            console.log('è§†é¢‘åŠ è½½å®Œæˆï¼Œæ—¶é•¿:', videoPlayer.duration + 'ç§’');
        });
        
        musicPlayer.addEventListener('ended', function() {
            console.log('è¯—æ­Œæ’­æ”¾ç»“æŸ');
            showStatus('ğŸµ è¯—æ­Œæ’­æ”¾å®Œæ¯•', 'success');
        });
        
        videoPlayer.addEventListener('ended', function() {
            console.log('è§†é¢‘æ’­æ”¾ç»“æŸ');
            showStatus('ğŸ¬ è§†é¢‘æ’­æ”¾å®Œæ¯•', 'success');
        });
        
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('passwordProtection').style.display !== 'none') {
                return;
            }
            
            const activeElement = document.activeElement;
            if (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA') {
                return;
            }
            
            switch(e.key) {
                case ' ':
                    e.preventDefault();
                    if (videoPlayer.paused) {
                        playVideo();
                    } else {
                        pauseVideo();
                    }
                    break;
                case 'r':
                case 'R':
                    e.preventDefault();
                    restartVideo();
                    break;
                case 'm':
                case 'M':
                    e.preventDefault();
                    toggleMute('video');
                    break;
                case 'Escape':
                    closeFullscreen();
                    break;
            }
        });
    </script>
</body>
</html>
